/**
 * Reduced Motion Support for iOS Components
 * Respects user's prefers-reduced-motion setting
 */

/* Global reduced motion styles */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	/* Remove specific iOS animations when reduced motion is preferred */
	.hover\:-translate-y-0\.5:hover {
		transform: none !important;
	}

	.hover\:scale-\[1\.02\]:hover {
		transform: none !important;
	}

	.active\:translate-y-0:active {
		transform: none !important;
	}

	.active\:scale-100:active {
		transform: none !important;
	}

	/* Remove spinner animations */
	.animate-spin {
		animation: none !important;
	}

	.animate-pulse {
		animation: none !important;
	}

	/* Simplify focus transitions */
	.focus\:shadow-\[0_0_0_6px_color-mix\(in_srgb\,var\(--ring\)_10\%\,transparent\)\]:focus {
		box-shadow: 0 0 0 2px var(--ring) !important;
		transition: none !important;
	}

	/* Remove backdrop filter animations */
	.backdrop-blur-\[10px\] {
		backdrop-filter: none !important;
	}

	/* Simplify hover effects */
	.hover\:shadow-\[var\(--shadow-md\)\]:hover {
		box-shadow: var(--shadow-sm) !important;
	}
}

/* Utility classes for reduced motion */
.motion-reduce\:duration-0 {
	transition-duration: 0ms;
}

.motion-reduce\:animate-none {
	animation: none;
}

.motion-reduce\:transform-none {
	transform: none;
}

/* Focus-visible improvements for reduced motion */
@media (prefers-reduced-motion: reduce) {
	.focus-visible\:ring-2:focus-visible {
		outline: 2px solid var(--ring);
		outline-offset: 2px;
		box-shadow: none;
	}
}

/* High contrast mode support */
@media (prefers-contrast: more) {
	/* Increase border contrast */
	.border-\[var\(--control-border\)\] {
		border-color: var(--label) !important;
		border-width: 2px !important;
	}

	/* Increase focus ring contrast */
	.focus\:border-\[var\(--ring\)\]:focus {
		border-color: var(--label) !important;
		border-width: 3px !important;
	}

	/* Ensure button contrast */
	.bg-\[var\(--system-blue\)\] {
		background-color: #0066cc !important;
	}

	.bg-\[var\(--system-green\)\] {
		background-color: #228b22 !important;
	}

	.bg-\[var\(--system-red\)\] {
		background-color: #cc0000 !important;
	}
}

/* Screen reader only utility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

.focus\:not-sr-only:focus {
	position: static;
	width: auto;
	height: auto;
	padding: inherit;
	margin: inherit;
	overflow: visible;
	clip: auto;
	white-space: normal;
}

/* Ensure sufficient touch targets on mobile */
@media (pointer: coarse) {
	.h-7 {
		min-height: 44px !important;
	}

	.h-8 {
		min-height: 44px !important;
	}
}

/* Print styles */
@media print {
	/* Ensure good contrast for print */
	.bg-\[var\(--system-blue\)\] {
		background-color: #000 !important;
		color: #fff !important;
	}

	.text-\[var\(--secondaryLabel\)\] {
		color: #666 !important;
	}
}
